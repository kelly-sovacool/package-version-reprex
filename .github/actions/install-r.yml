name: Install R
description: |
  Install R and dependencies
inputs:
  r-version:
    description: "The version of R to install"
    default: "4.5.1"
  renv-profile:
    default: '"dev"'
  http-user-agent:
    default: ""

runs:
  using: "composite"
    steps:
      - uses: actions/checkout@v4

      - uses: r-lib/actions/setup-pandoc@v2

      - uses: r-lib/actions/setup-r@v2
        with:
          r-version: ${{ inputs.r-version }}
          http-user-agent: ${{ inputs.http-user-agent }}
          use-public-rspm: true

      - uses: r-lib/actions/setup-renv@v2
        with:
          profile: '${{ inputs.renv-profile }}'

